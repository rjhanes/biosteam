

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7. Techno-economic analysis of a biorefinery &mdash; BioSTEAM 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'./',
              VERSION:'0.1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="8. Inheriting from Unit" href="Inheriting from Unit.html" />
    <link rel="prev" title="6. Using -pipe- notation" href="Using -pipe- notation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> BioSTEAM
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Getting started.html">1. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="MixedStream objects and thermodynamic equilibrium.html">2. MixedStream objects and thermodynamic equilibrium</a></li>
<li class="toctree-l1"><a class="reference internal" href="Creating a Unit.html">3. Creating a Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unit operation examples.html">4. Unit operation examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="Find unit operations and manage flowsheets.html">5. Find unit operations and manage flowsheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="Using -pipe- notation.html">6. Using -pipe- notation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">7. Techno-economic analysis of a biorefinery</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Inhereting-from-TEA-objects">7.1. Inhereting from TEA objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Perform-cash-flow-analysis">7.2. Perform cash flow analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Find-production-cost,-price,-and-IRR">7.3. Find production cost, price, and IRR</a></li>
<li class="toctree-l2"><a class="reference internal" href="#System-report">7.4. System report</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Inheriting from Unit.html">8. Inheriting from Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unit decorators.html">9. Unit decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="Stoichiometric reactions.html">10. Stoichiometric reactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Advanced simulation.html">11. Advanced simulation</a></li>
</ul>
<p class="caption"><span class="caption-text">BioSTEAM API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Species.html">Species</a></li>
<li class="toctree-l1"><a class="reference internal" href="Stream.html">Stream</a></li>
<li class="toctree-l1"><a class="reference internal" href="MixedStream.html">MixedStream</a></li>
<li class="toctree-l1"><a class="reference internal" href="Unit.html">Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="PowerUtility.html">PowerUtility</a></li>
<li class="toctree-l1"><a class="reference internal" href="HeatUtility.html">HeatUtility</a></li>
<li class="toctree-l1"><a class="reference internal" href="System.html">System</a></li>
<li class="toctree-l1"><a class="reference internal" href="TEA.html">TEA</a></li>
<li class="toctree-l1"><a class="reference internal" href="Flowsheet.html">find</a></li>
<li class="toctree-l1"><a class="reference internal" href="compounds.html">compounds</a></li>
<li class="toctree-l1"><a class="reference internal" href="units.html">units</a></li>
<li class="toctree-l1"><a class="reference internal" href="inspect.html">inspect</a></li>
<li class="toctree-l1"><a class="reference internal" href="reaction.html">reaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluation.html">evaluation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BioSTEAM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>7. Techno-economic analysis of a biorefinery</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/Techno-economic analysis of a biorefinery.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Techno-economic-analysis-of-a-biorefinery">
<h1>7. Techno-economic analysis of a biorefinery<a class="headerlink" href="#Techno-economic-analysis-of-a-biorefinery" title="Permalink to this headline">¶</a></h1>
<p>TEA objects can perform cashflow analysis on a System object and
arguments for cashflow analysis. These include arguments such as
operating days, lang factor, and income tax, as well as arguments for
taking into account startup operation, construction schedule, and
capital cost financing.</p>
<div class="section" id="Inhereting-from-TEA-objects">
<h2>7.1. Inhereting from TEA objects<a class="headerlink" href="#Inhereting-from-TEA-objects" title="Permalink to this headline">¶</a></h2>
<p>Depending on the rigour and flexibility of the techno-economic analysis,
different parameters may be needed to calculate total depreciable
capital (TDC), fixed capital investment (FCI), and fixed operating cost
(FOC). For this reason, the TEA object is left as an <em>abstract class</em>
with <em>abstract methods</em> <code class="docutils literal notranslate"><span class="pre">_TDC</span></code>, <code class="docutils literal notranslate"><span class="pre">_FCI</span></code>, and <code class="docutils literal notranslate"><span class="pre">_FOC</span></code>. Here is an
example TEA subclass from the lipidcane biorefinery design for the
co-production of ethanol and biodiesel:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">biosteam</span> <span class="k">as</span> <span class="nn">bst</span>

<span class="k">class</span> <span class="nc">LipidcaneTEA</span><span class="p">(</span><span class="n">bst</span><span class="o">.</span><span class="n">TEA</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a TEA_lipidcane object for techno-economic analysis of a biorefinery [1]</span>

<span class="sd">    Parameters</span>

<span class="sd">        system: [System] Should contain feed and product streams.</span>

<span class="sd">        IRR: [float]  Internal rate of return (fraction).</span>

<span class="sd">        duration: tuple[int, int] Start and end year of venture (e.g. (2018, 2038)).</span>

<span class="sd">        depreciation: [str] &#39;MACRS&#39; + number of years (e.g. &#39;MACRS7&#39;).</span>

<span class="sd">        operating_days: [float] Number of operating days per year.</span>

<span class="sd">        income_tax: [float] Combined federal and state income tax rate (fraction).</span>

<span class="sd">        lang_factor: [float] Lang factor for getting fixed capital investment from</span>
<span class="sd">        total purchase cost. If no lang factor, estimate capital investment</span>
<span class="sd">        using bare module factors.</span>

<span class="sd">        startup_schedule: tuple[float] Startup investment fractions per year</span>
<span class="sd">        (e.g. (0.5, 0.5) for 50% capital investment in the first year and 50%</span>
<span class="sd">        investment in the second).</span>

<span class="sd">        WC_over_FCI: [float] Working capital as a fraction of fixed capital investment.</span>

<span class="sd">        labor_cost: [float] Total labor cost (USD/yr).</span>

<span class="sd">        fringe_benefits: [float] Cost of fringe benefits as a fraction of labor cost.</span>

<span class="sd">        property_tax: [float] Fee as a fraction of fixed capital investment.</span>

<span class="sd">        property_insurance: [float] Fee as a fraction of fixed capital investment.</span>

<span class="sd">        supplies: [float] Yearly fee as a fraction of labor cost.</span>

<span class="sd">        maintenance: [float] Yearly fee as a fraction of fixed capital investment.</span>

<span class="sd">        administration: [float] Yearly fee as a fraction of fixed capital investment.</span>

<span class="sd">    References</span>

<span class="sd">        [1] Huang, H., Long, S., &amp; Singh, V. (2016). Techno-economic analysis of biodiesel</span>
<span class="sd">        and ethanol co-production from lipid-producing sugarcane. Biofuels, Bioproducts</span>
<span class="sd">        and Biorefining, 10(3), 299–315. https://doi.org/10.1002/bbb.1640</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">system</span><span class="p">,</span> <span class="n">IRR</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">depreciation</span><span class="p">,</span> <span class="n">income_tax</span><span class="p">,</span>
                 <span class="n">operating_days</span><span class="p">,</span> <span class="n">lang_factor</span><span class="p">,</span> <span class="n">construction_schedule</span><span class="p">,</span> <span class="n">WC_over_FCI</span><span class="p">,</span>
                 <span class="n">labor_cost</span><span class="p">,</span> <span class="n">fringe_benefits</span><span class="p">,</span> <span class="n">property_tax</span><span class="p">,</span>
                 <span class="n">property_insurance</span><span class="p">,</span> <span class="n">supplies</span><span class="p">,</span> <span class="n">maintenance</span><span class="p">,</span> <span class="n">administration</span><span class="p">):</span>
        <span class="c1"># Huang et. al. does not take into account financing or startup</span>
        <span class="c1"># so these parameters are 0 by default</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">system</span><span class="p">,</span> <span class="n">IRR</span><span class="p">,</span> <span class="n">duration</span><span class="p">,</span> <span class="n">depreciation</span><span class="p">,</span> <span class="n">income_tax</span><span class="p">,</span>
                         <span class="n">operating_days</span><span class="p">,</span> <span class="n">lang_factor</span><span class="p">,</span> <span class="n">construction_schedule</span><span class="p">,</span>
                         <span class="n">startup_months</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">startup_FOCfrac</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">startup_VOCfrac</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                         <span class="n">startup_salesfrac</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">finance_interest</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">finance_years</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                         <span class="n">finance_fraction</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">WC_over_FCI</span><span class="o">=</span><span class="n">WC_over_FCI</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">labor_cost</span> <span class="o">=</span> <span class="n">labor_cost</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fringe_benefits</span> <span class="o">=</span> <span class="n">fringe_benefits</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">property_tax</span> <span class="o">=</span> <span class="n">property_tax</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">property_insurance</span> <span class="o">=</span> <span class="n">property_insurance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">supplies</span><span class="o">=</span> <span class="n">supplies</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maintenance</span> <span class="o">=</span> <span class="n">maintenance</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">administration</span> <span class="o">=</span> <span class="n">administration</span>

    <span class="c1"># The abstract _TDC method should take direct permanent investment</span>
    <span class="c1"># and return the total depreciable capital. Huang et. al. assume</span>
    <span class="c1"># these values are equal</span>
    <span class="k">def</span> <span class="nf">_TDC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">DPI</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">DPI</span>

    <span class="c1"># The abstract _FCI method should take total depreciable capital</span>
    <span class="c1"># and return the fixed capital investment. Again, Huang et. al.</span>
    <span class="c1"># assume these values are equal.</span>
    <span class="k">def</span> <span class="nf">_FCI</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">TDC</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">TDC</span>

    <span class="c1"># The abstract _FOC method should take fixed capital investment</span>
    <span class="c1"># and return the fixed operating cost.</span>
    <span class="k">def</span> <span class="nf">_FOC</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">FCI</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">FCI</span><span class="o">*</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">property_tax</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">property_insurance</span>
                     <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">maintenance</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">administration</span><span class="p">)</span>
                <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">labor_cost</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">fringe_benefits</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">supplies</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Perform-cash-flow-analysis">
<h2>7.2. Perform cash flow analysis<a class="headerlink" href="#Perform-cash-flow-analysis" title="Permalink to this headline">¶</a></h2>
<p>Create a TEA object from a system:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">lipidcane</span> <span class="k">as</span> <span class="nn">lc</span>

<span class="n">lipidcane_tea</span> <span class="o">=</span> <span class="n">LipidcaneTEA</span><span class="p">(</span><span class="n">system</span><span class="o">=</span><span class="n">lc</span><span class="o">.</span><span class="n">lipidcane_sys</span><span class="p">,</span>
                             <span class="n">IRR</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span>
                             <span class="n">duration</span><span class="o">=</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span> <span class="mi">2038</span><span class="p">),</span>
                             <span class="n">depreciation</span><span class="o">=</span><span class="s1">&#39;MACRS7&#39;</span><span class="p">,</span>
                             <span class="n">income_tax</span><span class="o">=</span><span class="mf">0.35</span><span class="p">,</span>
                             <span class="n">operating_days</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
                             <span class="n">lang_factor</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
                             <span class="n">construction_schedule</span><span class="o">=</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">),</span>
                             <span class="n">WC_over_FCI</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span>
                             <span class="n">labor_cost</span><span class="o">=</span><span class="mf">2.5e6</span><span class="p">,</span>
                             <span class="n">fringe_benefits</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span>
                             <span class="n">property_tax</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span>
                             <span class="n">property_insurance</span><span class="o">=</span><span class="mf">0.005</span><span class="p">,</span>
                             <span class="n">supplies</span><span class="o">=</span><span class="mf">0.20</span><span class="p">,</span>
                             <span class="n">maintenance</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span>
                             <span class="n">administration</span><span class="o">=</span><span class="mf">0.005</span><span class="p">)</span>

<span class="n">lipidcane_tea</span><span class="o">.</span><span class="n">show</span><span class="p">()</span> <span class="c1"># Print TEA summary at current options</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
LipidcaneTEA: lipid_cane_system
 NPV: 7.59e+07 USD at 15.0% IRR
 ROI: 0.194 1/yr
 PBP: 4.92 yr
</pre></div></div>
</div>
<p>Retrieve complete cashflow analysis as a DataFrame object:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">lipidcane_tea</span><span class="o">.</span><span class="n">get_cashflow</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[3]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Depreciable capital</th>
      <th>Fixed capital investment</th>
      <th>Working capital</th>
      <th>Depreciation</th>
      <th>Loan</th>
      <th>...</th>
      <th>Net earnings</th>
      <th>Cash flow</th>
      <th>Discount factor</th>
      <th>Net present value (NPV)</th>
      <th>Cummulative NPV</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2016</th>
      <td>7.87e+07</td>
      <td>7.87e+07</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>-7.87e+07</td>
      <td>1.15</td>
      <td>-9.05e+07</td>
      <td>-9.05e+07</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>1.18e+08</td>
      <td>1.18e+08</td>
      <td>9.84e+06</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>-1.28e+08</td>
      <td>1</td>
      <td>-1.28e+08</td>
      <td>-2.18e+08</td>
    </tr>
    <tr>
      <th>2018</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2.81e+07</td>
      <td>0</td>
      <td>...</td>
      <td>2.17e+07</td>
      <td>4.99e+07</td>
      <td>0.87</td>
      <td>4.34e+07</td>
      <td>-1.75e+08</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>4.82e+07</td>
      <td>0</td>
      <td>...</td>
      <td>8.7e+06</td>
      <td>5.69e+07</td>
      <td>0.756</td>
      <td>4.3e+07</td>
      <td>-1.32e+08</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3.44e+07</td>
      <td>0</td>
      <td>...</td>
      <td>1.77e+07</td>
      <td>5.21e+07</td>
      <td>0.658</td>
      <td>3.42e+07</td>
      <td>-9.78e+07</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2.46e+07</td>
      <td>0</td>
      <td>...</td>
      <td>2.4e+07</td>
      <td>4.86e+07</td>
      <td>0.572</td>
      <td>2.78e+07</td>
      <td>-7e+07</td>
    </tr>
    <tr>
      <th>2022</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1.76e+07</td>
      <td>0</td>
      <td>...</td>
      <td>2.86e+07</td>
      <td>4.62e+07</td>
      <td>0.497</td>
      <td>2.3e+07</td>
      <td>-4.7e+07</td>
    </tr>
    <tr>
      <th>2023</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1.75e+07</td>
      <td>0</td>
      <td>...</td>
      <td>2.86e+07</td>
      <td>4.62e+07</td>
      <td>0.432</td>
      <td>2e+07</td>
      <td>-2.71e+07</td>
    </tr>
    <tr>
      <th>2024</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1.76e+07</td>
      <td>0</td>
      <td>...</td>
      <td>2.86e+07</td>
      <td>4.62e+07</td>
      <td>0.376</td>
      <td>1.74e+07</td>
      <td>-9.7e+06</td>
    </tr>
    <tr>
      <th>2025</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>8.77e+06</td>
      <td>0</td>
      <td>...</td>
      <td>3.43e+07</td>
      <td>4.31e+07</td>
      <td>0.327</td>
      <td>1.41e+07</td>
      <td>4.39e+06</td>
    </tr>
    <tr>
      <th>2026</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.284</td>
      <td>1.14e+07</td>
      <td>1.58e+07</td>
    </tr>
    <tr>
      <th>2027</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.247</td>
      <td>9.89e+06</td>
      <td>2.57e+07</td>
    </tr>
    <tr>
      <th>2028</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.215</td>
      <td>8.6e+06</td>
      <td>3.43e+07</td>
    </tr>
    <tr>
      <th>2029</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.187</td>
      <td>7.48e+06</td>
      <td>4.17e+07</td>
    </tr>
    <tr>
      <th>2030</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.163</td>
      <td>6.5e+06</td>
      <td>4.82e+07</td>
    </tr>
    <tr>
      <th>2031</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.141</td>
      <td>5.66e+06</td>
      <td>5.39e+07</td>
    </tr>
    <tr>
      <th>2032</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.123</td>
      <td>4.92e+06</td>
      <td>5.88e+07</td>
    </tr>
    <tr>
      <th>2033</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.107</td>
      <td>4.28e+06</td>
      <td>6.31e+07</td>
    </tr>
    <tr>
      <th>2034</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.0929</td>
      <td>3.72e+06</td>
      <td>6.68e+07</td>
    </tr>
    <tr>
      <th>2035</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.0808</td>
      <td>3.23e+06</td>
      <td>7e+07</td>
    </tr>
    <tr>
      <th>2036</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.0703</td>
      <td>2.81e+06</td>
      <td>7.29e+07</td>
    </tr>
    <tr>
      <th>2037</th>
      <td>0</td>
      <td>0</td>
      <td>-9.84e+06</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4.99e+07</td>
      <td>0.0611</td>
      <td>3.05e+06</td>
      <td>7.59e+07</td>
    </tr>
  </tbody>
</table>
<p>22 rows × 15 columns</p>
</div></div>
</div>
</div>
<div class="section" id="Find-production-cost,-price,-and-IRR">
<h2>7.3. Find production cost, price, and IRR<a class="headerlink" href="#Find-production-cost,-price,-and-IRR" title="Permalink to this headline">¶</a></h2>
<p>Find production cost:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">lipidcane_tea</span><span class="o">.</span><span class="n">production_cost</span><span class="p">(</span><span class="n">bst</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;Ethanol&#39;</span><span class="p">),</span> <span class="n">bst</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;Biodiesel&#39;</span><span class="p">))</span><span class="c1"># USD/yr</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[4]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>array([18722500.738, 23775412.926])
</pre></div>
</div>
</div>
<p>Solve for the price of a stream at the break even point:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">feed</span> <span class="o">=</span> <span class="n">bst</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;Lipid cane&#39;</span><span class="p">)</span>
<span class="n">lipidcane_tea</span><span class="o">.</span><span class="n">solve_price</span><span class="p">(</span><span class="n">feed</span><span class="p">)</span> <span class="c1"># USD/kg</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[5]:
</pre></div>
</div>
<div class="output_area highlight-none notranslate"><div class="highlight"><pre>
<span></span>0.04620943503548121
</pre></div>
</div>
</div>
<p>Solve for the IRR at the break even point:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">lipidcane_tea</span><span class="o">.</span><span class="n">IRR</span> <span class="o">=</span> <span class="n">lipidcane_tea</span><span class="o">.</span><span class="n">solve_IRR</span><span class="p">()</span>
<span class="n">lipidcane_tea</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
LipidcaneTEA: lipid_cane_system
 NPV: -0.000201 USD at 21.1% IRR
 ROI: 0.194 1/yr
 PBP: 4.92 yr
</pre></div></div>
</div>
<p>Note that the cashflow table is created up to date:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">lipidcane_tea</span><span class="o">.</span><span class="n">get_cashflow</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>Out[7]:
</pre></div>
</div>
<div class="output_area docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Depreciable capital</th>
      <th>Fixed capital investment</th>
      <th>Working capital</th>
      <th>Depreciation</th>
      <th>Loan</th>
      <th>...</th>
      <th>Net earnings</th>
      <th>Cash flow</th>
      <th>Discount factor</th>
      <th>Net present value (NPV)</th>
      <th>Cummulative NPV</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2016</th>
      <td>7.87e+07</td>
      <td>7.87e+07</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>-7.87e+07</td>
      <td>1.21</td>
      <td>-9.52e+07</td>
      <td>-9.52e+07</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>1.18e+08</td>
      <td>1.18e+08</td>
      <td>9.84e+06</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>-1.28e+08</td>
      <td>1</td>
      <td>-1.28e+08</td>
      <td>-2.23e+08</td>
    </tr>
    <tr>
      <th>2018</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2.81e+07</td>
      <td>0</td>
      <td>...</td>
      <td>2.17e+07</td>
      <td>4.99e+07</td>
      <td>0.826</td>
      <td>4.12e+07</td>
      <td>-1.82e+08</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>4.82e+07</td>
      <td>0</td>
      <td>...</td>
      <td>8.7e+06</td>
      <td>5.69e+07</td>
      <td>0.682</td>
      <td>3.88e+07</td>
      <td>-1.43e+08</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3.44e+07</td>
      <td>0</td>
      <td>...</td>
      <td>1.77e+07</td>
      <td>5.21e+07</td>
      <td>0.564</td>
      <td>2.93e+07</td>
      <td>-1.14e+08</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2.46e+07</td>
      <td>0</td>
      <td>...</td>
      <td>2.4e+07</td>
      <td>4.86e+07</td>
      <td>0.466</td>
      <td>2.26e+07</td>
      <td>-9.11e+07</td>
    </tr>
    <tr>
      <th>2022</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1.76e+07</td>
      <td>0</td>
      <td>...</td>
      <td>2.86e+07</td>
      <td>4.62e+07</td>
      <td>0.385</td>
      <td>1.78e+07</td>
      <td>-7.34e+07</td>
    </tr>
    <tr>
      <th>2023</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1.75e+07</td>
      <td>0</td>
      <td>...</td>
      <td>2.86e+07</td>
      <td>4.62e+07</td>
      <td>0.318</td>
      <td>1.47e+07</td>
      <td>-5.87e+07</td>
    </tr>
    <tr>
      <th>2024</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1.76e+07</td>
      <td>0</td>
      <td>...</td>
      <td>2.86e+07</td>
      <td>4.62e+07</td>
      <td>0.262</td>
      <td>1.21e+07</td>
      <td>-4.66e+07</td>
    </tr>
    <tr>
      <th>2025</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>8.77e+06</td>
      <td>0</td>
      <td>...</td>
      <td>3.43e+07</td>
      <td>4.31e+07</td>
      <td>0.217</td>
      <td>9.34e+06</td>
      <td>-3.73e+07</td>
    </tr>
    <tr>
      <th>2026</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.179</td>
      <td>7.17e+06</td>
      <td>-3.01e+07</td>
    </tr>
    <tr>
      <th>2027</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.148</td>
      <td>5.92e+06</td>
      <td>-2.42e+07</td>
    </tr>
    <tr>
      <th>2028</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.122</td>
      <td>4.89e+06</td>
      <td>-1.93e+07</td>
    </tr>
    <tr>
      <th>2029</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.101</td>
      <td>4.04e+06</td>
      <td>-1.52e+07</td>
    </tr>
    <tr>
      <th>2030</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.0834</td>
      <td>3.34e+06</td>
      <td>-1.19e+07</td>
    </tr>
    <tr>
      <th>2031</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.0689</td>
      <td>2.76e+06</td>
      <td>-9.15e+06</td>
    </tr>
    <tr>
      <th>2032</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.0569</td>
      <td>2.28e+06</td>
      <td>-6.87e+06</td>
    </tr>
    <tr>
      <th>2033</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.047</td>
      <td>1.88e+06</td>
      <td>-4.99e+06</td>
    </tr>
    <tr>
      <th>2034</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.0388</td>
      <td>1.55e+06</td>
      <td>-3.43e+06</td>
    </tr>
    <tr>
      <th>2035</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.0321</td>
      <td>1.28e+06</td>
      <td>-2.15e+06</td>
    </tr>
    <tr>
      <th>2036</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4e+07</td>
      <td>0.0265</td>
      <td>1.06e+06</td>
      <td>-1.09e+06</td>
    </tr>
    <tr>
      <th>2037</th>
      <td>0</td>
      <td>0</td>
      <td>-9.84e+06</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>4e+07</td>
      <td>4.99e+07</td>
      <td>0.0219</td>
      <td>1.09e+06</td>
      <td>-0.000201</td>
    </tr>
  </tbody>
</table>
<p>22 rows × 15 columns</p>
</div></div>
</div>
</div>
<div class="section" id="System-report">
<h2>7.4. System report<a class="headerlink" href="#System-report" title="Permalink to this headline">¶</a></h2>
<p>Save stream tables, utility requirements, itemized costs, TEA results,
and a cash flow table:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">lc</span><span class="o">.</span><span class="n">lipidcane_sys</span><span class="o">.</span><span class="n">save_report</span><span class="p">(</span><span class="s1">&#39;Lipidcane report.xlsx&#39;</span><span class="p">)</span> <span class="c1"># Try this on your computer and open excel</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Inheriting from Unit.html" class="btn btn-neutral float-right" title="8. Inheriting from Unit" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Using -pipe- notation.html" class="btn btn-neutral float-left" title="6. Using -pipe- notation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Yoel Cortes-Pena and Jeremy Guest

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>