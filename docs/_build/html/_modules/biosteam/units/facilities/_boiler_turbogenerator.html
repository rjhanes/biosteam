

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>biosteam.units.facilities._boiler_turbogenerator &mdash; BioSTEAM 0.1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript">
          var DOCUMENTATION_OPTIONS = {
              URL_ROOT:'../../../../',
              VERSION:'0.1',
              LANGUAGE:'None',
              COLLAPSE_INDEX:false,
              FILE_SUFFIX:'.html',
              HAS_SOURCE:  true,
              SOURCELINK_SUFFIX: '.txt'
          };
      </script>
        <script type="text/javascript" src="../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> BioSTEAM
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Getting started.html">1. Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../MixedStream objects and thermodynamic equilibrium.html">2. MixedStream objects and thermodynamic equilibrium</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Creating a Unit.html">3. Creating a Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Unit operation examples.html">4. Unit operation examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Find unit operations and manage flowsheets.html">5. Find unit operations and manage flowsheets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Using -pipe- notation.html">6. Using -pipe- notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Techno-economic analysis of a biorefinery.html">7. Techno-economic analysis of a biorefinery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Inheriting from Unit.html">8. Inheriting from Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Unit decorators.html">9. Unit decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Stoichiometric reactions.html">10. Stoichiometric reactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Advanced simulation.html">11. Advanced simulation</a></li>
</ul>
<p class="caption"><span class="caption-text">BioSTEAM API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Species.html">Species</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Stream.html">Stream</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../MixedStream.html">MixedStream</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Unit.html">Unit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../PowerUtility.html">PowerUtility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../HeatUtility.html">HeatUtility</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../System.html">System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../TEA.html">TEA</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Flowsheet.html">find</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../compounds.html">compounds</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../units.html">units</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../inspect.html">inspect</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reaction.html">reaction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../evaluation.html">evaluation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">BioSTEAM</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
        
      <li>biosteam.units.facilities._boiler_turbogenerator</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for biosteam.units.facilities._boiler_turbogenerator</h1><div class="highlight"><pre>
<span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Created on Sun Feb 17 16:36:47 2019</span>

<span class="sd">@author: yoelr</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">...</span> <span class="k">import</span> <span class="n">Stream</span><span class="p">,</span> <span class="n">Species</span><span class="p">,</span> <span class="n">HeatUtility</span><span class="p">,</span> <span class="n">Unit</span>
<span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">Facility</span>
<span class="kn">from</span> <span class="nn">..decorators</span> <span class="k">import</span> <span class="n">cost</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;BoilerTurbogenerator&#39;</span><span class="p">,)</span>

<span class="n">lps</span> <span class="o">=</span> <span class="n">HeatUtility</span><span class="o">.</span><span class="n">heating_agents</span><span class="p">[</span><span class="s1">&#39;Low pressure steam&#39;</span><span class="p">]</span>

<span class="c1">#: TODO add reference of NREL</span>

<div class="viewcode-block" id="BoilerTurbogenerator"><a class="viewcode-back" href="../../../../facilities.html#biosteam.units.facilities.BoilerTurbogenerator">[docs]</a><span class="nd">@cost</span><span class="p">(</span><span class="s1">&#39;Work&#39;</span><span class="p">,</span> <span class="s1">&#39;Turbogenerator&#39;</span><span class="p">,</span>
      <span class="n">CE</span><span class="o">=</span><span class="mi">551</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="mi">42200</span><span class="p">,</span> <span class="n">kW</span><span class="o">=-</span><span class="mi">42200</span><span class="p">,</span> <span class="n">cost</span><span class="o">=</span><span class="mf">9500e3</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">0.60</span><span class="p">,</span> <span class="n">BM</span><span class="o">=</span><span class="mf">1.8</span><span class="p">)</span>
<span class="nd">@cost</span><span class="p">(</span><span class="s1">&#39;Flow rate&#39;</span><span class="p">,</span> <span class="s1">&#39;Hot process water softener system&#39;</span><span class="p">,</span> 
      <span class="n">CE</span><span class="o">=</span><span class="mi">551</span><span class="p">,</span> <span class="n">cost</span><span class="o">=</span><span class="mf">78e3</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="mi">235803</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">BM</span><span class="o">=</span><span class="mf">1.8</span><span class="p">)</span>
<span class="nd">@cost</span><span class="p">(</span><span class="s1">&#39;Flow rate&#39;</span><span class="p">,</span> <span class="s1">&#39;Amine addition pkg&#39;</span><span class="p">,</span> 
      <span class="n">CE</span><span class="o">=</span><span class="mi">551</span><span class="p">,</span> <span class="n">cost</span><span class="o">=</span><span class="mf">40e3</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="mi">235803</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">BM</span><span class="o">=</span><span class="mf">1.8</span><span class="p">)</span>
<span class="nd">@cost</span><span class="p">(</span><span class="s1">&#39;Flow rate&#39;</span><span class="p">,</span> <span class="s1">&#39;Deaerator&#39;</span><span class="p">,</span>
      <span class="n">CE</span><span class="o">=</span><span class="mi">551</span><span class="p">,</span> <span class="n">cost</span><span class="o">=</span><span class="mf">305e3</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="mi">235803</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">BM</span><span class="o">=</span><span class="mf">3.0</span><span class="p">)</span>
<span class="nd">@cost</span><span class="p">(</span><span class="s1">&#39;Flow rate&#39;</span><span class="p">,</span> <span class="s1">&#39;Boiler&#39;</span><span class="p">,</span>
      <span class="n">CE</span><span class="o">=</span><span class="mi">551</span><span class="p">,</span> <span class="n">cost</span><span class="o">=</span><span class="mf">28550e3</span><span class="p">,</span> <span class="n">kW</span><span class="o">=</span><span class="mi">2752</span><span class="p">,</span> <span class="n">S</span><span class="o">=</span><span class="mi">238686</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span> <span class="n">BM</span><span class="o">=</span><span class="mf">1.8</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">BoilerTurbogenerator</span><span class="p">(</span><span class="n">Facility</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Create a Boiler_TurboGenerator object that will calculate electricity generation from burning the feed. It also takes into account how much steam is being produced, and the required cooling utility of the turbo generator. No emissions or mass balances are taken into account.</span>
<span class="sd">    </span>
<span class="sd">    **Parameters**</span>
<span class="sd">    </span>
<span class="sd">        **boiler_efficiency:** [float] Fraction of heat transfered to steam.</span>
<span class="sd">    </span>
<span class="sd">        **turbo_generator_efficiency:** [float] Fraction of steam heat converted to electricity.</span>
<span class="sd">    </span>
<span class="sd">    **ins**</span>
<span class="sd">    </span>
<span class="sd">        [0] Feed that will be burned.</span>
<span class="sd">    </span>
<span class="sd">    **outs**</span>
<span class="sd">    </span>
<span class="sd">        [0] Emission (burned feed)</span>
<span class="sd">        </span>
<span class="sd">    </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_N_heat_utilities</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">_has_power_utility</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">_units</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Flow rate&#39;</span><span class="p">:</span> <span class="s1">&#39;kg/hr&#39;</span><span class="p">,</span>
              <span class="s1">&#39;Work&#39;</span><span class="p">:</span> <span class="s1">&#39;kW&#39;</span><span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ins</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">outs</span><span class="o">=</span><span class="p">(),</span> <span class="o">*</span><span class="p">,</span>
                 <span class="n">boiler_efficiency</span><span class="o">=</span><span class="mf">0.80</span><span class="p">,</span>
                 <span class="n">turbogenerator_efficiency</span><span class="o">=</span><span class="mf">0.85</span><span class="p">):</span>
        <span class="n">Unit</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ID</span><span class="p">,</span> <span class="n">ins</span><span class="p">,</span> <span class="n">outs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">boiler_efficiency</span> <span class="o">=</span> <span class="n">boiler_efficiency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">turbogenerator_efficiency</span> <span class="o">=</span> <span class="n">turbogenerator_efficiency</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">steam_utilities</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">steam_demand</span> <span class="o">=</span> <span class="n">Stream</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">species</span><span class="o">=</span><span class="n">Species</span><span class="p">(</span><span class="s1">&#39;Water&#39;</span><span class="p">),</span> <span class="n">P</span><span class="o">=</span><span class="n">lps</span><span class="o">.</span><span class="n">P</span><span class="p">,</span> <span class="n">T</span><span class="o">=</span><span class="n">lps</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">phase</span><span class="o">=</span><span class="s1">&#39;g&#39;</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">_run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="k">pass</span>
    
    <span class="k">def</span> <span class="nf">_design</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">B_eff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">boiler_efficiency</span>
        <span class="n">TG_eff</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">turbogenerator_efficiency</span>
        <span class="n">steam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steam_demand</span>
        <span class="n">steam_utilities</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steam_utilities</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">steam_utilities</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">system</span><span class="o">.</span><span class="n">units</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">u</span> <span class="ow">is</span> <span class="bp">self</span><span class="p">:</span> <span class="k">continue</span>
                <span class="k">for</span> <span class="n">hu</span> <span class="ow">in</span> <span class="n">u</span><span class="o">.</span><span class="n">_heat_utilities</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">hu</span><span class="o">.</span><span class="n">ID</span> <span class="o">==</span> <span class="s1">&#39;Low pressure steam&#39;</span><span class="p">:</span>
                        <span class="n">steam_utilities</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">hu</span><span class="p">)</span>
        <span class="n">steam</span><span class="o">.</span><span class="n">_mol</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">flow</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">steam_utilities</span><span class="p">])</span>
        <span class="n">feed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_ins</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">emission</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_outs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">hu_cooling</span><span class="p">,</span> <span class="n">hu_steam</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_heat_utilities</span>
        <span class="n">H_steam</span> <span class="o">=</span> <span class="n">steam</span><span class="o">.</span><span class="n">H</span>
        <span class="n">feed_Hc</span> <span class="o">=</span> <span class="n">feed</span><span class="o">.</span><span class="n">Hc</span>
        
        <span class="c1"># This is simply for the mass balance (no special purpose)</span>
        <span class="n">emission</span><span class="o">.</span><span class="n">mol</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">feed</span><span class="o">.</span><span class="n">mol</span> <span class="c1"># TODO: In reality, this should be CO2</span>
        
        <span class="c1"># A percent of bagasse is water, so remove latent heat of vaporization</span>
        <span class="n">feed_massnet</span> <span class="o">=</span> <span class="n">feed</span><span class="o">.</span><span class="n">massnet</span>
        <span class="n">moisture_content</span> <span class="o">=</span> <span class="n">feed</span><span class="o">.</span><span class="n">_mass</span><span class="p">[</span><span class="n">feed</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="s1">&#39;7732-18-5&#39;</span><span class="p">)]</span><span class="o">/</span><span class="n">feed_massnet</span>
        <span class="n">H_content</span> <span class="o">=</span> <span class="n">feed_Hc</span><span class="o">*</span><span class="n">B_eff</span> <span class="o">-</span> <span class="n">feed_massnet</span><span class="o">*</span><span class="mi">2260</span><span class="o">*</span><span class="n">moisture_content</span>
        
        <span class="c1"># Heat available for the turbogenerator</span>
        <span class="n">H_electricity</span> <span class="o">=</span> <span class="n">H_content</span> <span class="o">-</span> <span class="n">H_steam</span> 
        
        <span class="c1">#: [float] Total steam produced by the boiler (kmol/hr)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total_steam</span> <span class="o">=</span> <span class="n">H_content</span><span class="o">/</span><span class="mi">70000</span> <span class="c1"># Superheat steam with 70000 kJ/kmol</span>
        <span class="n">Design</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_Design</span>
        <span class="n">Design</span><span class="p">[</span><span class="s1">&#39;Flow rate&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">total_steam</span> <span class="o">*</span> <span class="mf">18.01528</span>
        
        <span class="k">if</span> <span class="n">H_electricity</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">H_steam</span> <span class="o">=</span> <span class="n">H_content</span>
            <span class="n">cooling</span> <span class="o">=</span> <span class="n">electricity</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">electricity</span> <span class="o">=</span> <span class="n">H_electricity</span> <span class="o">*</span> <span class="n">TG_eff</span>
            <span class="n">cooling</span> <span class="o">=</span> <span class="n">electricity</span> <span class="o">-</span> <span class="n">H_electricity</span>
        <span class="n">hu_cooling</span><span class="p">(</span><span class="n">cooling</span><span class="p">,</span> <span class="n">steam</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
        <span class="n">hu_steam</span><span class="o">.</span><span class="n">ID</span> <span class="o">=</span> <span class="s1">&#39;Low pressure steam&#39;</span>
        <span class="n">hu_steam</span><span class="o">.</span><span class="n">cost</span> <span class="o">=</span> <span class="o">-</span><span class="nb">sum</span><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">cost</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">steam_utilities</span><span class="p">])</span>
        <span class="n">Design</span><span class="p">[</span><span class="s1">&#39;Work&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">electricity</span><span class="o">/</span><span class="mi">3600</span>        </div>

<span class="c1"># Simulation of ethanol production from sugarcane</span>
<span class="c1"># in Brazil: economic study of an autonomous</span>
<span class="c1"># distillery</span>
<span class="c1"># Marina O.S. Diasa,b, Marcelo P. Cunhaa, Charles D.F. Jesusa, Mirna I.G.</span>
<span class="c1"># Scandiffioa, Carlos E.V. Rossella,b, Rubens Maciel Filhob, Antonio Bonomia</span>
<span class="c1"># a CTBE – Bioethanol Science and Technology National Laboratory, PO Box 6170 –</span>
<span class="c1"># CEP 13083-970, Campinas – SP, Brazil, marina.dias@bioetanol.org.br</span>
<span class="c1"># b School of Chemical Engineering, University of Campinas, PO Box 6066 – CEP</span>
<span class="c1"># 13083-970, Campinas – SP, Brazil</span>
<span class="c1"># LHV = 7565 # Bagasse lower heating value (kJ/kg)</span>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Yoel Cortes-Pena and Jeremy Guest

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>